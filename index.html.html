<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="./p.css">
    <link rel="stylesheet" href="./p1.css">
    <link rel="stylesheet" href="./iconfont.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.3.0/Tween.min.js">
    </script>
    <style>
     .site-welcome{
      display: none;
      position: fixed;
      width:100%;height: 100%;top:0;left: 0;
      background: #888;
      z-index: 1;
      /* display: flex; */     /* 弯曲；收缩*/
      justify-content: center;  /* 对齐内容调整内容对齐属性*/
      align-items: center;   /*垂直方向侧轴对齐方式*/
                                    
     }
     .site-welcome.active{
       display: flex;
     }
    </style>
</head>
<body>
  <div id="sitewelcome" class="site-welcome active">
  <div class="loading"></div>
</div>
  <div id="topNavBar" class="topNavBar sticky">
    <div class="topNavBar-banner clearfix">
           <a class="logo" href="#" alt="logo" style="float:left">
            <span class="rs">RS</span><span class="card">card</span>
           </a>
              <nav class="menu"  style="float:right">
               <ul class="clearfix">
                 <li>
                   <a href="#siteabout">关于</a>
                </li>
                 <li>
                   <a href="#siteskills">技能</a>
                  </li>
                 <li >
                   <a href="#siteworks">作品</a>
                     <ul class="submenu">
                       <li>作品1</li>
                       <li>作品2</li>
                       <li>作品3</li>
                     </ul>
                  </li>
                 <li >
                   <a href="#">博客</a>
                   <ul class="submenu">
                     <li>博客1</li>
                     <li>博客2</li>
                     <li>博客3</li>
                   </ul>
                  </li>
                 <li>
                   <a href="#">日历</a>
                  </li>
                 <li>
                   <a href="#">联系方式</a>
                  </li>
                 <li>
                   <a href="#">其他</a>
                  </li>
               </ul>
               </nav>
          </div>
          </div>
              <div class="banner">
                <div class="mask"></div>
              </div>
              <main>
                <div datax id="siteabout" class="usercard">
                  <div class="pictureAndText clearfix" >
                    <div class="picture">
                      <img src="tim.jpg" alt="头像" style="float:left">
                    </div>
                    <div class="text">
                        <span class="welcome">hello<span class=" triangle"></span>
                        </span>
                        <h1>黄威</h1>
                        <p>前端开发工程师</p>
                        <hr>
                        <dl>
                          <dt>年龄</dt>
                          <dd>18</dd>
                          <dt>所在城市</dt>
                          <dd>北京</dd>
                          <dt>邮箱</dt>
                          <dd>fangyinghang@foxmail.com</dd>
                          <dt>手机</dt>
                          <dd>13812345678</dd>
                        </dl>
                      </div>
                    </div>
                  </style>
                   <div><footer class="media">
                    <a href="#"><span class="iconfont icon-jirengulogozaoqi"></span>
                        </a>
                    <a href="#"><span class="iconfont icon-weibo"></span>
                        </a>
                    <a href="#"><span class="iconfont icon-jianshu"></span>
                       </a>
                    <a href="#"><span class="iconfont icon-github"></span>
                       </a>
                    <a href="#"><span class="iconfont icon-twitter"></span>
                      </a>
                  </footer>
                </div>
              </div>
                 <p class="download-wrapper"> 
                  <a class="downloadResume" href="./resume.pdf.docx" target="_blank" download>下载 PDF 简历</a>
                </p>
                <p class="selfIntroduction">
                  黄威， 资深前端工程师，资深前端讲师，现在在 饥人谷 教前端课程。<br>
                  技能：前端开发，Rails 开发，Node.js 开发
                </p>
              </main>
              <section datax id="siteskills" class="skills">
                <h2>技能</h2>
                <ol class="clearfix">
                  <li>
                    <h3>HTML 5 &amp;CSS 3</h3>
                    <div class="porgressBar">
                    <div class="progress" style="width:70%"></div></div> </li>
                  <li>
                   <h3>JavaScript</h3>
                    <div class="porgressBar">
                    <div class="progress" style="width:60%"></div></div> </li>
                  <li>
                   <h3>Query</h3>
                    <div class="porgressBar">
                    <div class="progress" style="width:55%"></div></div></li>
                  <li>
                   <h3>Vue</h3>
                    <div class="porgressBar">
                    <div class="progress" style="width:50%"></div></div></li>
                  <li>
                   <h3>React</h3>
                    <div class="porgressBar">
                    <div class="progress" style="width:30%"></div></div></li>
                  <li>
                   <h3>HTTP</h3>
                    <div class="porgressBar">
                    <div class="progress" style="width:60%"></div></div></li>
                </ol>
              </section>
              <section datax id="siteworks" class="portfolio">
                <h2>作品集</h2>
                <nav>
                  <ol class="clearfix">
                    <li id="portfolio1">所有</li>
                    <li id="portfolio2">框架</li>
                    <li id="portfolio3">原生JS&amp;CSS</li>
                  </ol>
                  <div id="portfolioBar" class="bar state-1">
                    <div class="bar-inner"></div>
                  </div>
                </nav>
                <script>
                   portfolio1.onclick= function(){
                    portfolioBar.className = "bar state-1"
                   }
                   portfolio2.onclick= function(){
                    portfolioBar.className = "bar state-2"
                   }
                   portfolio3.onclick= function(){
                    portfolioBar.className = "bar state-3"
                   }
                </script>
                <div class="works" style="height:597px;">
                  <div class="big" style="top:0;left:0;">
                    <img src="./1.jpg" alt="作品1">
                  </div>
                  <div class="small"style="top:0;left:645px;">
                    <img src="./2.jpg" alt="作品2">
                  </div>
                  <div class="small"style="top:312px;left:645px;">
                    <img src="./3.jpg" alt="作品3">
                  </div>
                </div>
              </section>
              <script>
                setTimeout( function(){
                   sitewelcome.classList.remove('active')
                  },1000)

                  window.onscroll=function(){
                   if(scrollY>0){
                   topNavBar.classList.add('sticky')
                   }else{
                   topNavBar.classList.remove('sticky')
                   }

                
                let specialTags=document.querySelectorAll('[datax]')
                let minIndex=0
                for(let i=1;i<specialTags.length;i++){
                  if(Math.abs(specialTags[i].offsetTop-window.scrollY)<Math.abs(specialTags[minIndex].offsetTop-window.scrollY)){
                    minIndex=i
                  }
                }
                for(let i=0;i<specialTags.length;i++){
                  specialTags[i].classList.remove('active') 
                }
               // specialTags[minIndex].classList.add('active')

                let id=specialTags[minIndex].id
                let a=document.querySelector('a[href="#'+id+'"]')
                let li=a.parentNode
                let brothersAndMe=li.parentNode.children
                for(let i=0;i<brothersAndMe.length;i++){
                  brothersAndMe[i].classList.remove('heighlight')
                }
                li.classList.add('heighlight')
               }


                  let liTiggers=document.querySelectorAll('nav.menu>ul>li')    // let li=x.currentTarget
                       for(let i=0;i<liTiggers.length;i++){                    //let brother=li.getElementsByTagName('ul')[0]
                        liTiggers[i].onmouseenter=function(x){                 //  while( brother.tagName!=='UL'){   //brother.nodeType===node.TEXT_NODE
                          x.currentTarget.classList.add('active')              //   brother=brother.nextSibling                                                       
                        }                                                      // }
                        liTiggers[i].onmouseleave=function(x){                 //brother.classList.add('active')
                          x.currentTarget.classList.remove('active')                                                                           
                       }                                                        // let li=x.currentTarget
                     }                                                          // let brother=li.getElementsByTagName('ul')[0]
                                                                                //  while( brother.tagName !=='UL'){   //brother.nodeType===node.TEXT_NODE
                                                                                //   brother=brother.nextSibling
                                                                                //  brother.classList.remove('active')

                  let  aTiggers=document.querySelectorAll('nav.menu>ul>li>a') 

                     function animate(time){
                        requestAnimationFrame(animate);
                        TWEEN.update(time);
                      }
                         requestAnimationFrame(animate);

                     

                     for(let j=0;j<aTiggers.length;j++){
                      aTiggers[j].onclick=function(y){
                        y.preventDefault()
                        let a=y.currentTarget
                        let href=a.getAttribute('href')
                        let element=document.querySelector(href)
                        let top=element.offsetTop

                        // let n=25  
                        // let duration=500/n
                        let currentTop=window.scrollY
                        let targetTop=top-80
                        let s=targetTop-currentTop
                        var t=Math.abs((s/100)*300)
                        if(t>500){t=500}
                        // let distance=(targetTop-currentTop)/n
                        // let i=0
                        // let id=setInterval(function(){
                        //   if(i===n){
                        //     window.clearInterval(id)
                        //     return
                        //     }
                        //   i=i+1
                        //   window.scrollTo(0,currentTop+distance*i)
                        // },duration)
                        var coords={x:currentTop};
                        var Tween=new TWEEN.Tween(coords)
                         .to({x:targetTop},t).easing(TWEEN.Easing.Quadratic.InOut)
                         .onUpdate(function(){
                          window.scrollTo(0,coords.x)
                           })
                         .start() 
                      }
                     }

              </script>
            
</body>
</html>






